#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
echo "ğŸ” Auto-formatting Python code..."
python -m black . || { echo "âŒ Black formatting failed"; exit 1; }
python -m isort . || { echo "âŒ Import sorting failed"; exit 1; }
python -m ruff check --fix . || { echo "âŒ Ruff auto-fix failed"; exit 1; }
python -m ruff format . || { echo "âŒ Ruff format failed"; exit 1; }

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ (ä¿®æ­£å¾Œã«å†ãƒã‚§ãƒƒã‚¯)
echo "ğŸ” Running Python code quality checks..."
python -m ruff check . || { echo "âŒ Ruff check failed"; exit 1; }
python -m mypy . || { echo "âŒ Type check failed"; exit 1; }

echo "âœ… All pre-commit checks passed!"