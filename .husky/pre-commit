#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
echo "ğŸ” Auto-formatting Python code..."
python -m black . --line-length 100 || { echo "âŒ Black formatting failed"; exit 1; }
python -m isort . --profile black --line-length 100 || { echo "âŒ Import sorting failed"; exit 1; }

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
echo "ğŸ” Running Python code quality checks..."
python -m ruff check . || { echo "âŒ Ruff check failed"; exit 1; }
python -m mypy . || { echo "âŒ Type check failed"; exit 1; }

echo "âœ… All pre-commit checks passed!"